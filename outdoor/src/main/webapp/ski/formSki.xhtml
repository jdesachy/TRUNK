<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<f:view locale="fr">
	<h:head>
		<title><h:outputText value="#{msg['welcome.topTitle']}" /></title>
		<h:outputStylesheet library="css" name="styles.css" />
	</h:head>
	<h:body>
		<div id="welcomPage" class="page">

			<ui:include src="/menu.xhtml" >
				<ui:param name="index" value="1" />
			</ui:include>

			<h:outputText value="#{msg['ski.form.title']}" />
			<h:form id="formulaireSki">
		
				<h:panelGrid columns="2" id="formSki">
					<h:panelGroup class="l">
						<h:outputText value="#{msg['form.activity.name']}" />
					</h:panelGroup>
					<h:panelGroup class="r">
						<p:inputText 
							id="name" 
							value="#{activityControler.formSki.name}"
							required="true" 
							requiredMessage="#{msg['data.required']}"
							class="form_name" />
						<br />
						<h:message for="name" styleClass="error" />
					</h:panelGroup>
		
					<h:panelGroup class="l">
						<h:outputText value="#{msg['form.activity.date']}" />
					</h:panelGroup>
					<h:panelGroup class="r">
						<p:calendar value="#{activityControler.formSki.date}"
							showOn="button"
							id="inlineCal" 
							required="true"
							requiredMessage="#{msg['data.required']}" />
						<br />
						<h:message for="inlineCal" styleClass="error" />
					</h:panelGroup>
		
					<h:panelGroup class="l">
						<h:outputText value="#{msg['form.activity.massif']}" />
					</h:panelGroup>
					<h:panelGroup class="r">
						<p:selectOneMenu value="#{activityControler.formSki.massif}">
							<f:selectItems id="montagne"
								value="#{activityControler.formSki.massifs}" required="true" />
							<br />
							<h:message for="montagne" styleClass="error" />
						</p:selectOneMenu>
					</h:panelGroup>
		
					<h:panelGroup class="l">
						<h:outputText value="#{msg['form.activity.traveledAltitude']}" />
					</h:panelGroup>
					<h:panelGroup class="r">
						<p:inputText id="altitude"
							value="#{activityControler.formSki.traveledAltitude}"
							required="true" requiredMessage="#{msg['data.required']}"
							converterMessage="#{msg['data.entier']}" />
						<br />
						<h:message for="altitude" styleClass="error" />
					</h:panelGroup>
		
					<h:panelGroup class="l">
						<h:outputText value="#{msg['form.activity.comment']}" />
					</h:panelGroup>
					<h:panelGroup class="r">
						<p:inputTextarea id="comment"
							value="#{activityControler.formSki.comment}" 
							class="form_comment"/>
						<br />
						<h:message for="comment" styleClass="error" />
					</h:panelGroup>
				</h:panelGrid>
		
				<p:commandButton value="#{msg['form.save']}"
					action="#{activityControler.formSki.validate}"
					rendered="#{activityControler.formSki.edit==false}"
					icon="ui-icon-disk">
				</p:commandButton>
		
				<p:commandButton value="#{msg['form.update']}"
					action="#{activityControler.formSki.update}"
					rendered="#{activityControler.formSki.edit==true}"
					icon="ui-icon-arrowrefresh-1-w">
				</p:commandButton>
		
		
			</h:form>
		</div>
	</h:body>
</f:view>
</html>
